C51 COMPILER V9.01   3_3                                                                   04/21/2017 12:58:21 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE 3_3
OBJECT MODULE PLACED IN 3.3.OBJ
COMPILER INVOKED BY: F:\Keil\C51\BIN\C51.EXE 3.3.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*#include<reg52.h>  //52µ¥Æ¬»úÍ·ÎÄ¼þ
   2          #define uint unsigned int    //ºê¶¨Òå
   3          #define uchar unsigned char  //ºê¶¨Òå
   4          ucahr tt,i;
   5          sbit beep=P2^3;
   6          void main()
   7          {
   8                  TMOD=0x11;
   9                  TH0=(65536-50000)/256;
  10                  TL0=(65536-50000)%256;
  11                  TH1=(65536-50000)/256;
  12                  TL1=(65536-50000)%256;
  13                  EA=1;
  14                  ET0=1;
  15                  ET1=1;
  16                  TR0=1;
  17                  TR1=1;
  18                  while(1);
  19          }
  20          
  21          
  22          void timer0() interrupt 1
  23          {
  24                  TH0=(65536-50000)/256;
  25                  TL0=(65536-50000)%256;
  26                  tt++;
  27                  if(tt==5) tt=0;
  28          }
  29          
  30          void timer1() interrupt 2
  31          {
  32                  TH0=(65536-50000)/256;
  33                  TL0=(65536-50000)%256;
  34                  tt++;
  35                  if(tt==5) tt=0;
  36          }
  37           */
  38          
  39          /*******************************************************************/
  40          /* TX-1Cµ¥Æ¬»úÊµÑé°åÊµÑéÀý³Ì                                                               */
  41          /* 2007Äê8ÔÂµÚ¶þÆÚÅàÑµ°à¿ÎºóÏ°ÌâÏê½â                                                       */
  42          /* ×÷Õß£º¹ùÌìÏé                                                                                            */
  43          /* ÓÊÏä£ºtxmcu@163.com                                                                                     */
  44          /* ÍøÕ¾£ºwww.txmcu.com(ÌìÏéµç×Ó)                                                           */
  45          /*¡¾°æÈ¨¡¿Copyright(C)ÌìÏéµç×Ó www.txmcu.com  All Rights Reserved  */
  46          /*¡¾ÉùÃ÷¡¿´Ë³ÌÐò½öÓÃÓÚÑ§Ï°Óë²Î¿¼£¬ÒýÓÃÇë×¢Ã÷°æÈ¨ºÍ×÷ÕßÐÅÏ¢£¡       */
  47          /*                                                                 */
  48          /*******************************************************************/
  49          /*                                                          
  50          Í¬Ê±ÓÃÁ½¸ö¶¨Ê±Æ÷¿ØÖÆ·äÃùÆ÷·¢Éù£¬
  51          ¶¨Ê±Æ÷0¿ØÖÆÆµÂÊ£¬¶¨Ê±Æ÷1¿ØÖÆÍ¬¸ö
  52          ÆµÂÊ³ÖÐøµÄÊ±¼ä£¬¼ä¸ô2sÒÀ´ÎÊä³ö
  53          1£¬10£¬50,100£¬200,400,800,
  54          1k£¨hz£©µÄ·½²¨£
  55          Éè¾§ÕñÆµÂÊÎª12MHz¡£
C51 COMPILER V9.01   3_3                                                                   04/21/2017 12:58:21 PAGE 2   

  56          */
  57          /*********************************************************/
  58          #include<reg52.h>  //52µ¥Æ¬»úÍ·ÎÄ¼þ
  59          #include <intrins.h> //°üº¬ÓÐ×óÓÒÑ­»·ÒÆÎ»×Óº¯ÊýµÄ¿â
  60          #define uint unsigned int    //ºê¶¨Òå
  61          #define uchar unsigned char  //ºê¶¨Òå
  62          sbit beep=P2^3;
  63          uchar tt;
  64          uint fre,flag;
  65          
  66          void main()                 //Ö÷º¯Êý
  67          {
  68   1              fre=50000;
  69   1              beep=0;
  70   1              TMOD=0x11;//ÉèÖÃ¶¨Ê±Æ÷0,¶¨Ê±Æ÷1Îª¹¤×÷·½Ê½1
  71   1              TH0=(65536-fre)/256;
  72   1              TL0=(65536-fre)%256;
  73   1              TH1=(65536-50000)/256;
  74   1              TL1=(65536-50000)%256;
  75   1              EA=1;//¿ª×ÜÖÐ¶Ï
  76   1              ET0=1;//¿ª¶¨Ê±Æ÷0ÖÐ¶Ï
  77   1              ET1=1;
  78   1              TR1=1;
  79   1              TR0=1;//Æô¶¯¶¨Ê±Æ÷0
  80   1              while(1);//µÈ´ýÖÐ¶Ï²úÉú
  81   1              
  82   1      }
  83          
  84          void timer0() interrupt 1   //¶¨Ê±Æ÷0ÖÐ¶Ï
  85          {
  86   1              TR0=0;    //½øÖÐ¶ÏºóÏÈ°Ñ¶¨Ê±Æ÷0ÖÐ¶Ï¹Ø±Õ£¬·ÀÖ¹ÄÚ²¿³ÌÐò¹ý¶à¶øÔì³ÉÖÐ¶Ï¶ªÊ§
  87   1              TH0=(65536-fre)/256;
  88   1              TL0=(65536-fre)%256;
  89   1              tt++;
  90   1              if(flag<40)    //ÒÔÏÂ¼¸¸öif·Ö±ðÓÃÀ´Ñ¡È¡²»Í¬µÄÆµÂÊ
  91   1                      if(tt==10)
  92   1                              {
  93   2                                      tt=0;
  94   2                                      fre=50000;
  95   2                                      beep=~beep;
  96   2                              }
  97   1              if(flag>=40&&flag<80)
  98   1                      {
  99   2                              tt=0;
 100   2                              fre=50000;
 101   2                              beep=~beep;     
 102   2                      }
 103   1              if(flag>=80&&flag<120)
 104   1                      {
 105   2                              tt=0;
 106   2                              fre=10000;
 107   2                              beep=~beep;     
 108   2                      }
 109   1              if(flag>=120&&flag<160)
 110   1                      {
 111   2                              tt=0;
 112   2                              fre=5000;
 113   2                              beep=~beep;     
 114   2                      }
 115   1              if(flag>=160&&flag<200)
 116   1                      {
 117   2                              tt=0;
C51 COMPILER V9.01   3_3                                                                   04/21/2017 12:58:21 PAGE 3   

 118   2                              fre=2500;
 119   2                              beep=~beep;     
 120   2                      }
 121   1              if(flag>=200&&flag<240)
 122   1                      {
 123   2                              tt=0;
 124   2                              fre=1250;
 125   2                              beep=~beep;     
 126   2                      }
 127   1              if(flag>=240&&flag<280)
 128   1                      {
 129   2                              tt=0;
 130   2                              fre=625;
 131   2                              beep=~beep;     
 132   2                      }
 133   1              if(flag>=280&&flag<320)
 134   1                      {
 135   2                              tt=0;
 136   2                              fre=312;
 137   2                              beep=~beep;     
 138   2                      }
 139   1              if(flag>=320&&flag<360)
 140   1                      {
 141   2                              tt=0;
 142   2                              fre=156;
 143   2                              beep=~beep;     
 144   2                      }
 145   1              TR0=1;
 146   1      }
 147          void timer1() interrupt 3  //¶¨Ê±Æ÷1ÖÐ¶ÏÓÃÀ´²úÉú2ÃëÊ±¼ä¶¨Ê±
 148          {
 149   1              TH1=(65536-50000)/256;
 150   1              TL1=(65536-50000)%256;
 151   1              flag++;
 152   1              if(flag==360)
 153   1                {
 154   2                  flag=0;
 155   2                  fre=50000;
 156   2                }
 157   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    561    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      5    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
